\hypertarget{controller_8h}{}\doxysection{source/controller.h File Reference}
\label{controller_8h}\index{source/controller.h@{source/controller.h}}


State functions and state machine.  


{\ttfamily \#include \char`\"{}elevator.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}queue.\+h\char`\"{}}\newline
Include dependency graph for controller.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{controller_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=290pt]{controller_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{controller_8h_a5d74787dedbc4e11c1ab15bf487e61f8}{State}} \{ \newline
{\bfseries init\+\_\+state}, 
{\bfseries waiting\+\_\+state}, 
{\bfseries move\+\_\+up\+\_\+state}, 
{\bfseries move\+\_\+down\+\_\+state}, 
\newline
{\bfseries at\+\_\+floor\+\_\+state}, 
{\bfseries stop\+\_\+state}
 \}
\begin{DoxyCompactList}\small\item\em typedef enum defining the possible states and creating type State. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{controller_8h_a6b80f91dd3f114b8e95bce0529645c76}{controller\+\_\+decide\+\_\+up\+\_\+or\+\_\+down\+\_\+state}} (void)
\begin{DoxyCompactList}\small\item\em Function used in waiting state. Updates orders, and decides moving\+\_\+up or moving\+\_\+down states when an order is called. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{controller_8h_a5c8da7439afab344a09bbd6515da30ad}{controller\+\_\+moving\+\_\+up}} (void)
\begin{DoxyCompactList}\small\item\em Moves up until the elevator reaches a floor with an order. Up and cab orders are prioritized over down order, and if there are multiple down orders, the elevator goes to the top down order. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{controller_8h_a429922ffec7e04b081565e68bbd1f9a8}{controller\+\_\+moving\+\_\+down}} (void)
\begin{DoxyCompactList}\small\item\em Moves down until the elevator reaches a floor with an order. Down and cab orders are prioritized over up order, and if there are multiple up orders, the elevator goes to the bottom up order. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{controller_8h_a23b17444fbe5deb1d123630994973e80}{controller\+\_\+at\+\_\+floor}} (void)
\begin{DoxyCompactList}\small\item\em Function used in at floor state. Opens doors for three seconds while checking stop button and obstruction. Then decides between up-\/, down-\/ og waiting state. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{controller_8h_a2f56abfba53c68d9fd93670f64e341b7}{controller\+\_\+stop\+\_\+button}} (void)
\begin{DoxyCompactList}\small\item\em Function used in stop state. Stops elevator and opens door for three seconds if elevator is on a floor. Deletes orders and clears order lights. Changes current state to waiting state. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{controller_8h_a5555bffe59fb0080d93e30aa3dc8033f}{controller\+\_\+state\+\_\+machine}} (void)
\begin{DoxyCompactList}\small\item\em Switches between elevator states. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{controller_8h_a5d74787dedbc4e11c1ab15bf487e61f8}{State}} \mbox{\hyperlink{controller_8h_a54138d08678dd972a2c9b13e069fd91a}{current\+\_\+state}}
\begin{DoxyCompactList}\small\item\em global variable storing the current state. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
State functions and state machine. 



\doxysubsection{Enumeration Type Documentation}
\mbox{\Hypertarget{controller_8h_a5d74787dedbc4e11c1ab15bf487e61f8}\label{controller_8h_a5d74787dedbc4e11c1ab15bf487e61f8}} 
\index{controller.h@{controller.h}!State@{State}}
\index{State@{State}!controller.h@{controller.h}}
\doxysubsubsection{\texorpdfstring{State}{State}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{controller_8h_a5d74787dedbc4e11c1ab15bf487e61f8}{State}}}



typedef enum defining the possible states and creating type State. 



Definition at line 17 of file controller.\+h.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{controller_8h_a23b17444fbe5deb1d123630994973e80}\label{controller_8h_a23b17444fbe5deb1d123630994973e80}} 
\index{controller.h@{controller.h}!controller\_at\_floor@{controller\_at\_floor}}
\index{controller\_at\_floor@{controller\_at\_floor}!controller.h@{controller.h}}
\doxysubsubsection{\texorpdfstring{controller\_at\_floor()}{controller\_at\_floor()}}
{\footnotesize\ttfamily void controller\+\_\+at\+\_\+floor (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Function used in at floor state. Opens doors for three seconds while checking stop button and obstruction. Then decides between up-\/, down-\/ og waiting state. 



Definition at line 207 of file controller.\+c.

\mbox{\Hypertarget{controller_8h_a6b80f91dd3f114b8e95bce0529645c76}\label{controller_8h_a6b80f91dd3f114b8e95bce0529645c76}} 
\index{controller.h@{controller.h}!controller\_decide\_up\_or\_down\_state@{controller\_decide\_up\_or\_down\_state}}
\index{controller\_decide\_up\_or\_down\_state@{controller\_decide\_up\_or\_down\_state}!controller.h@{controller.h}}
\doxysubsubsection{\texorpdfstring{controller\_decide\_up\_or\_down\_state()}{controller\_decide\_up\_or\_down\_state()}}
{\footnotesize\ttfamily void controller\+\_\+decide\+\_\+up\+\_\+or\+\_\+down\+\_\+state (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Function used in waiting state. Updates orders, and decides moving\+\_\+up or moving\+\_\+down states when an order is called. 

\mbox{\Hypertarget{controller_8h_a429922ffec7e04b081565e68bbd1f9a8}\label{controller_8h_a429922ffec7e04b081565e68bbd1f9a8}} 
\index{controller.h@{controller.h}!controller\_moving\_down@{controller\_moving\_down}}
\index{controller\_moving\_down@{controller\_moving\_down}!controller.h@{controller.h}}
\doxysubsubsection{\texorpdfstring{controller\_moving\_down()}{controller\_moving\_down()}}
{\footnotesize\ttfamily void controller\+\_\+moving\+\_\+down (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Moves down until the elevator reaches a floor with an order. Down and cab orders are prioritized over up order, and if there are multiple up orders, the elevator goes to the bottom up order. 



Definition at line 143 of file controller.\+c.

\mbox{\Hypertarget{controller_8h_a5c8da7439afab344a09bbd6515da30ad}\label{controller_8h_a5c8da7439afab344a09bbd6515da30ad}} 
\index{controller.h@{controller.h}!controller\_moving\_up@{controller\_moving\_up}}
\index{controller\_moving\_up@{controller\_moving\_up}!controller.h@{controller.h}}
\doxysubsubsection{\texorpdfstring{controller\_moving\_up()}{controller\_moving\_up()}}
{\footnotesize\ttfamily void controller\+\_\+moving\+\_\+up (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Moves up until the elevator reaches a floor with an order. Up and cab orders are prioritized over down order, and if there are multiple down orders, the elevator goes to the top down order. 



Definition at line 78 of file controller.\+c.

\mbox{\Hypertarget{controller_8h_a5555bffe59fb0080d93e30aa3dc8033f}\label{controller_8h_a5555bffe59fb0080d93e30aa3dc8033f}} 
\index{controller.h@{controller.h}!controller\_state\_machine@{controller\_state\_machine}}
\index{controller\_state\_machine@{controller\_state\_machine}!controller.h@{controller.h}}
\doxysubsubsection{\texorpdfstring{controller\_state\_machine()}{controller\_state\_machine()}}
{\footnotesize\ttfamily void controller\+\_\+state\+\_\+machine (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Switches between elevator states. 



Definition at line 313 of file controller.\+c.

\mbox{\Hypertarget{controller_8h_a2f56abfba53c68d9fd93670f64e341b7}\label{controller_8h_a2f56abfba53c68d9fd93670f64e341b7}} 
\index{controller.h@{controller.h}!controller\_stop\_button@{controller\_stop\_button}}
\index{controller\_stop\_button@{controller\_stop\_button}!controller.h@{controller.h}}
\doxysubsubsection{\texorpdfstring{controller\_stop\_button()}{controller\_stop\_button()}}
{\footnotesize\ttfamily void controller\+\_\+stop\+\_\+button (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Function used in stop state. Stops elevator and opens door for three seconds if elevator is on a floor. Deletes orders and clears order lights. Changes current state to waiting state. 



Definition at line 276 of file controller.\+c.



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{controller_8h_a54138d08678dd972a2c9b13e069fd91a}\label{controller_8h_a54138d08678dd972a2c9b13e069fd91a}} 
\index{controller.h@{controller.h}!current\_state@{current\_state}}
\index{current\_state@{current\_state}!controller.h@{controller.h}}
\doxysubsubsection{\texorpdfstring{current\_state}{current\_state}}
{\footnotesize\ttfamily \mbox{\hyperlink{controller_8h_a5d74787dedbc4e11c1ab15bf487e61f8}{State}} current\+\_\+state}



global variable storing the current state. 



Definition at line 30 of file controller.\+h.

